{"ast":null,"code":"'use strict'; // Adapted from ReactART:\n// https://github.com/reactjs/react-art\n\nvar FrameUtils = require('./FrameUtils');\n\nvar DrawingUtils = require('./DrawingUtils');\n\nvar EventTypes = require('./EventTypes');\n\nvar LAYER_GUID = 0;\nvar LayerMixin = {\n  construct: function (element) {\n    this._currentElement = element;\n    this._layerId = LAYER_GUID++;\n  },\n  getPublicInstance: function () {\n    return this.node;\n  },\n  putEventListener: function (type, listener) {\n    var subscriptions = this.subscriptions || (this.subscriptions = {});\n    var listeners = this.listeners || (this.listeners = {});\n    listeners[type] = listener;\n\n    if (listener) {\n      if (!subscriptions[type]) {\n        subscriptions[type] = this.node.subscribe(type, listener, this);\n      }\n    } else {\n      if (subscriptions[type]) {\n        subscriptions[type]();\n        delete subscriptions[type];\n      }\n    }\n  },\n  handleEvent: function (event) {// TODO\n  },\n  destroyEventListeners: function () {// TODO\n  },\n  applyLayerProps: function (prevProps, props) {\n    var layer = this.node;\n    var style = props && props.style ? props.style : {};\n    layer._originalStyle = style; // Common layer properties\n\n    layer.alpha = style.alpha;\n    layer.backgroundColor = style.backgroundColor;\n    layer.borderColor = style.borderColor;\n    layer.borderWidth = style.borderWidth;\n    layer.borderRadius = style.borderRadius;\n    layer.clipRect = style.clipRect;\n    layer.frame = FrameUtils.make(style.left || 0, style.top || 0, style.width || 0, style.height || 0);\n    layer.scale = style.scale;\n    layer.translateX = style.translateX;\n    layer.translateY = style.translateY;\n    layer.zIndex = style.zIndex; // Shadow\n\n    layer.shadowColor = style.shadowColor;\n    layer.shadowBlur = style.shadowBlur;\n    layer.shadowOffsetX = style.shadowOffsetX;\n    layer.shadowOffsetY = style.shadowOffsetY; // Generate backing store ID as needed.\n\n    if (props.useBackingStore) {\n      layer.backingStoreId = this._layerId;\n    } // Register events\n\n\n    for (var type in EventTypes) {\n      this.putEventListener(EventTypes[type], props[type]);\n    }\n  },\n  mountComponentIntoNode: function (rootID, container) {\n    throw new Error('You cannot render a Canvas component standalone. ' + 'You need to wrap it in a Surface.');\n  },\n  unmountComponent: function () {\n    this.destroyEventListeners();\n  },\n  getHostNode: function () {\n    return this.node;\n  },\n  getNativeNode: function () {\n    return this.node;\n  }\n};\nmodule.exports = LayerMixin;","map":{"version":3,"sources":["C:/Users/sonwonjae/react/react-tutorial/canvas-example/node_modules/react-canvas/lib/LayerMixin.js"],"names":["FrameUtils","require","DrawingUtils","EventTypes","LAYER_GUID","LayerMixin","construct","element","_currentElement","_layerId","getPublicInstance","node","putEventListener","type","listener","subscriptions","listeners","subscribe","handleEvent","event","destroyEventListeners","applyLayerProps","prevProps","props","layer","style","_originalStyle","alpha","backgroundColor","borderColor","borderWidth","borderRadius","clipRect","frame","make","left","top","width","height","scale","translateX","translateY","zIndex","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","useBackingStore","backingStoreId","mountComponentIntoNode","rootID","container","Error","unmountComponent","getHostNode","getNativeNode","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\n// Adapted from ReactART:\n// https://github.com/reactjs/react-art\n\nvar FrameUtils = require('./FrameUtils');\nvar DrawingUtils = require('./DrawingUtils');\nvar EventTypes = require('./EventTypes');\n\nvar LAYER_GUID = 0;\n\nvar LayerMixin = {\n\n  construct: function(element) {\n    this._currentElement = element;\n    this._layerId = LAYER_GUID++;\n  },\n\n  getPublicInstance: function() {\n    return this.node;\n  },\n\n  putEventListener: function(type, listener) {\n    var subscriptions = this.subscriptions || (this.subscriptions = {});\n    var listeners = this.listeners || (this.listeners = {});\n    listeners[type] = listener;\n    if (listener) {\n      if (!subscriptions[type]) {\n        subscriptions[type] = this.node.subscribe(type, listener, this);\n      }\n    } else {\n      if (subscriptions[type]) {\n        subscriptions[type]();\n        delete subscriptions[type];\n      }\n    }\n  },\n\n  handleEvent: function(event) {\n    // TODO\n  },\n\n  destroyEventListeners: function() {\n    // TODO\n  },\n\n  applyLayerProps: function (prevProps, props) {\n    var layer = this.node;\n    var style = (props && props.style) ? props.style : {};\n    layer._originalStyle = style;\n\n    // Common layer properties\n    layer.alpha = style.alpha;\n    layer.backgroundColor = style.backgroundColor;\n    layer.borderColor = style.borderColor;\n    layer.borderWidth = style.borderWidth;\n    layer.borderRadius = style.borderRadius;\n    layer.clipRect = style.clipRect;\n    layer.frame = FrameUtils.make(style.left || 0, style.top || 0, style.width || 0, style.height || 0);\n    layer.scale = style.scale;\n    layer.translateX = style.translateX;\n    layer.translateY = style.translateY;\n    layer.zIndex = style.zIndex;\n\n    // Shadow\n    layer.shadowColor = style.shadowColor;\n    layer.shadowBlur = style.shadowBlur;\n    layer.shadowOffsetX = style.shadowOffsetX;\n    layer.shadowOffsetY = style.shadowOffsetY;\n\n    // Generate backing store ID as needed.\n    if (props.useBackingStore) {\n      layer.backingStoreId = this._layerId;\n    }\n\n    // Register events\n    for (var type in EventTypes) {\n      this.putEventListener(EventTypes[type], props[type]);\n    }\n  },\n\n  mountComponentIntoNode: function(rootID, container) {\n    throw new Error(\n      'You cannot render a Canvas component standalone. ' +\n      'You need to wrap it in a Surface.'\n    );\n  },\n\n  unmountComponent: function() {\n    this.destroyEventListeners();\n  },\n  getHostNode: function () { return this.node },\n  getNativeNode: function () { return this.node },\n\n};\n\nmodule.exports = LayerMixin;\n"]},"metadata":{},"sourceType":"script"}