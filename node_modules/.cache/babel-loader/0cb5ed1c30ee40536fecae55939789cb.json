{"ast":null,"code":"'use strict';\n\nvar createComponent = require('./createComponent');\n\nvar LayerMixin = require('./LayerMixin');\n\nvar Text = createComponent('Text', LayerMixin, {\n  applyTextProps: function (prevProps, props) {\n    var style = props && props.style ? props.style : {};\n    var layer = this.node;\n    layer.type = 'text';\n    layer.text = childrenAsString(props.children);\n    layer.color = style.color;\n    layer.fontFace = style.fontFace;\n    layer.fontSize = style.fontSize;\n    layer.lineHeight = style.lineHeight;\n    layer.textAlign = style.textAlign;\n  },\n  mountComponent: function (transaction, nativeParent, nativeContainerInfo, context) {\n    var props = this._currentElement.props;\n    var layer = this.node;\n    this.applyLayerProps({}, props);\n    this.applyTextProps({}, props);\n    return layer;\n  },\n  receiveComponent: function (nextComponent, transaction, context) {\n    var props = nextComponent.props;\n    var prevProps = this._currentElement.props;\n    this.applyLayerProps(prevProps, props);\n    this.applyTextProps(prevProps, props);\n    this._currentElement = nextComponent;\n    this.node.invalidateLayout();\n  }\n});\n\nfunction childrenAsString(children) {\n  if (!children) {\n    return '';\n  }\n\n  if (typeof children === 'string') {\n    return children;\n  }\n\n  if (children.length) {\n    return children.join('\\n');\n  }\n\n  return '';\n}\n\nmodule.exports = Text;","map":{"version":3,"sources":["C:/Users/sonwonjae/react/react-tutorial/canvas-example/node_modules/react-canvas/lib/Text.js"],"names":["createComponent","require","LayerMixin","Text","applyTextProps","prevProps","props","style","layer","node","type","text","childrenAsString","children","color","fontFace","fontSize","lineHeight","textAlign","mountComponent","transaction","nativeParent","nativeContainerInfo","context","_currentElement","applyLayerProps","receiveComponent","nextComponent","invalidateLayout","length","join","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,eAAe,GAAGC,OAAO,CAAC,mBAAD,CAA7B;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAAxB;;AAEA,IAAIE,IAAI,GAAGH,eAAe,CAAC,MAAD,EAASE,UAAT,EAAqB;AAE7CE,EAAAA,cAAc,EAAE,UAAUC,SAAV,EAAqBC,KAArB,EAA4B;AAC1C,QAAIC,KAAK,GAAID,KAAK,IAAIA,KAAK,CAACC,KAAhB,GAAyBD,KAAK,CAACC,KAA/B,GAAuC,EAAnD;AACA,QAAIC,KAAK,GAAG,KAAKC,IAAjB;AAEAD,IAAAA,KAAK,CAACE,IAAN,GAAa,MAAb;AACAF,IAAAA,KAAK,CAACG,IAAN,GAAaC,gBAAgB,CAACN,KAAK,CAACO,QAAP,CAA7B;AAEAL,IAAAA,KAAK,CAACM,KAAN,GAAcP,KAAK,CAACO,KAApB;AACAN,IAAAA,KAAK,CAACO,QAAN,GAAiBR,KAAK,CAACQ,QAAvB;AACAP,IAAAA,KAAK,CAACQ,QAAN,GAAiBT,KAAK,CAACS,QAAvB;AACAR,IAAAA,KAAK,CAACS,UAAN,GAAmBV,KAAK,CAACU,UAAzB;AACAT,IAAAA,KAAK,CAACU,SAAN,GAAkBX,KAAK,CAACW,SAAxB;AACD,GAd4C;AAgB7CC,EAAAA,cAAc,EAAE,UACdC,WADc,EAEdC,YAFc,EAGdC,mBAHc,EAIdC,OAJc,EAKd;AACA,QAAIjB,KAAK,GAAG,KAAKkB,eAAL,CAAqBlB,KAAjC;AACA,QAAIE,KAAK,GAAG,KAAKC,IAAjB;AACA,SAAKgB,eAAL,CAAqB,EAArB,EAAyBnB,KAAzB;AACA,SAAKF,cAAL,CAAoB,EAApB,EAAwBE,KAAxB;AACA,WAAOE,KAAP;AACD,GA3B4C;AA6B7CkB,EAAAA,gBAAgB,EAAE,UAAUC,aAAV,EAAyBP,WAAzB,EAAsCG,OAAtC,EAA+C;AAC/D,QAAIjB,KAAK,GAAGqB,aAAa,CAACrB,KAA1B;AACA,QAAID,SAAS,GAAG,KAAKmB,eAAL,CAAqBlB,KAArC;AACA,SAAKmB,eAAL,CAAqBpB,SAArB,EAAgCC,KAAhC;AACA,SAAKF,cAAL,CAAoBC,SAApB,EAA+BC,KAA/B;AACA,SAAKkB,eAAL,GAAuBG,aAAvB;AACA,SAAKlB,IAAL,CAAUmB,gBAAV;AACD;AApC4C,CAArB,CAA1B;;AAwCA,SAAShB,gBAAT,CAA0BC,QAA1B,EAAoC;AAClC,MAAI,CAACA,QAAL,EAAe;AACb,WAAO,EAAP;AACD;;AACD,MAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOA,QAAP;AACD;;AACD,MAAIA,QAAQ,CAACgB,MAAb,EAAqB;AACnB,WAAOhB,QAAQ,CAACiB,IAAT,CAAc,IAAd,CAAP;AACD;;AACD,SAAO,EAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiB7B,IAAjB","sourcesContent":["'use strict';\n\nvar createComponent = require('./createComponent');\nvar LayerMixin = require('./LayerMixin');\n\nvar Text = createComponent('Text', LayerMixin, {\n\n  applyTextProps: function (prevProps, props) {\n    var style = (props && props.style) ? props.style : {};\n    var layer = this.node;\n\n    layer.type = 'text';\n    layer.text = childrenAsString(props.children);\n\n    layer.color = style.color;\n    layer.fontFace = style.fontFace;\n    layer.fontSize = style.fontSize;\n    layer.lineHeight = style.lineHeight;\n    layer.textAlign = style.textAlign;\n  },\n\n  mountComponent: function (\n    transaction,\n    nativeParent,\n    nativeContainerInfo,\n    context\n  ) {\n    var props = this._currentElement.props;\n    var layer = this.node;\n    this.applyLayerProps({}, props);\n    this.applyTextProps({}, props);\n    return layer;\n  },\n\n  receiveComponent: function (nextComponent, transaction, context) {\n    var props = nextComponent.props;\n    var prevProps = this._currentElement.props;\n    this.applyLayerProps(prevProps, props);\n    this.applyTextProps(prevProps, props);\n    this._currentElement = nextComponent;\n    this.node.invalidateLayout();\n  }\n\n});\n\nfunction childrenAsString(children) {\n  if (!children) {\n    return '';\n  }\n  if (typeof children === 'string') {\n    return children;\n  }\n  if (children.length) {\n    return children.join('\\n');\n  }\n  return '';\n}\n\nmodule.exports = Text;"]},"metadata":{},"sourceType":"script"}